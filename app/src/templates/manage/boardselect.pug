extends managepage.pug
include ../mixins/timestamp.pug
include ../mixins/icons.pug

block header
  h1 Board administration

block main
  h2 Add board
  span.button.button_link
    a(href='/manage/boards/create') Add board

  //- uri name desc createdAt isLocked isHidden isForcedAnon postcount
  h2 Select board
  table.table
    thead
      tr.table__row.table__row_header
        th.table__header.table__header_sortable(data-sort-field='board', data-sort-type='string') Uri
        th.table__header.table__header_sortable(data-sort-field='name', data-sort-type='string') Name
        th.table__header Description
        th.table__header.table__header_sortable.table__header_sort-ascending(data-sort-field='created', data-sort-type='date', data-sort-order='ascending') Created
        th.table__header.table__header_sortable(data-sort-field='postcount', data-sort-type='number') Post count
        th.table__header Features
        th.table__heaeder Staff
    tbody
      for b in boards
        tr.table__row(data-board=b.uri, data-name=b.name, data-created=b.createdAt, data-postcount=b.postcount)
          td
            a(href='/manage/boards/edit/' + b.uri) /#{ b.uri }/
          td= b.name
          td= b.desc
          td
            +date(b.createdAt)
          td= b.postcount
          td
            if b.isHidden
              | 
              abbr.badge.badge_light(title='Hidden board')
                +icon('eye-slash', 'small')
            if b.isLocked
              | 
              abbr.badge.badge_danger(title='Locked board')
                +icon('lock', 'small')
            if b.isForcedAnon
              | 
              abbr.badge.badge_dark(title='Anonymous board')
                +icon('user-secret', 'small')
          td
            span.button.button_link
              a(href=`/manage/staff?board=${b.uri}`) staff
